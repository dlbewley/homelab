:toc:
:icons: font
:sectanchors:
:sectlinks:
:toc: []

= Tools to Help with My Home Lab Setup

.**Secrets**
[TIP]
I am using https://keybase.io/[Keybase.io] to hold my secrets, becuase it's slightly simpler than https://docs.ansible.com/ansible/latest/user_guide/vault.html[Ansible vault] and I don't have anything fancy like https://www.vaultproject.io/[Hashi Vault] at this time.

.**Red Hat Subscriptions**
[TIP]
====
To use Red Hat subscriptions:

* Create an activation key for the _Employee SKU_ subscription in https://access.redhat.com/management/activation_keys[the portal].
* Create an ansible vars file in keybase kinda like the following to be used by link:tasks/RedHat-pre-tasks.yml[]

[source,yaml]
----
rhn_org_id: "99999999"
rhn_activation_key: employee-sku
rhn_pool_ids:
  # physical
  #- 99999999999999999999999999999999
  # virtual
  - 88888888888888888888888888888888
----
====

== Setup

* link:setup-pyenv[] creates a virtualenv to satisfy depts for Ansible https://docs.ansible.com/ansible/latest/modules/vmware_guest_module.html[vmware_guest] module like https://pypi.org/project/pyvmomi/[PyVmomi]
* link:requirements.yml[] includes some helpful roles from https://galaxy.ansible.com/[Ansible Galaxy] like https://galaxy.ansible.com/redhatinsights/insights-client[insights-client]

== Playbooks

* link:mkhelper.yml[] - Playbook to build VMware VM and prep OS for munging by https://github.com/RedHatOfficial/ocp4-helpernode[RedHatOfficial / ocp4-helpernode] Playbook prior to contributing back to same
* link:infra.yml[] - WIP Playbook for a persistent Infrastructure host.
* link:rhpds-bastion.yml[] - Prep a Red Hat Product Demo System bastion host for use.

== Roles

* link:roles/dhcpd/[] - Configure lab dhcpd server
* link:roles/pxe/[] - Configure lab PXE server
* link:roles/ocp3/[] - Configure ocp3 lab starting with the link:roles/ocp3/tasks/bastion.yml[]

== OpenShift
